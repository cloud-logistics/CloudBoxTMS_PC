<div class="hbox hbox-auto-xs hbox-auto-sm" ng-controller="LeaseController as vm"
     ng-init="app.settings.asideFolded = false;app.settings.asideDock = false;">
    <!-- main -->
    <div class="col">
        <!-- main header -->
        <!--<div class="bg-light lter b-b wrapper-xs">-->
        <!--<div class="row">-->
        <!--<div class="col-md-6 col-sm-6 col-xs-12">-->
        <!--<h1 class="font-thin h3 text-black m-l m-t-sm">{{vm.title}}</h1>-->
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <div class="wrapper-md">

            <div class="row ds-map">
                <div id="dashboard_map" class="embeded_mapview"></div>
                <div class="ls-info ls-fade" ng-show="showDetail">
                    <ul class="ls-content">
                        <li>
                            <p><span>云箱ID</span><i>{{vm.containers[detailIdx].containerId}}</i></p>
                        </li>
                        <li>
                            <p><span>云箱型号</span><i>{{vm.containers[detailIdx].containerType}}</i></p>
                        </li>
                        <li>
                            <p><span>承运方</span><i>{{vm.containers[detailIdx].carrier}}</i></p>
                        </li>
                        <li>
                            <p><span>当前所在地</span><i>{{vm.containers[detailIdx].locationName}}</i></p>
                        </li>
                        <li>
                            <p><span>当前位置</span><i>纬度{{vm.containers[detailIdx].position.lat}} - 经度{{vm.containers[detailIdx].position.lng}}</i></p>
                        </li>
                    </ul>
                    <button class="ls-query" ui-sref="app.realtime({
                            containerId: vm.containers[detailIdx].containerId
                        })">查看详情</button>
                </div>
            </div>

            <div class="row ls-middle" style="">
                <div class="pull-left ls-title">
                    <span>云箱全局租赁状态管理</span>
                </div>
                <div class="pull-right ls-desc">
                    <img src="http://ol37p4zz4.bkt.clouddn.com/icon_lease.png">
                    <span ui-sref="app.leasemanage" style="cursor: pointer">租赁方管理</span>
                </div>
            </div>

            <div class="row ls-table">
                <table st-table="vm.items" st-safe-src="vm.items" class="table table-striped table-hover m-t">
                    <thead>
                    <tr>
                        <!--<th ng-repeat="title in vm.titles">-->
                        <!--{{title}}-->
                        <!--</th>-->
                        <th>云箱ID</th>
                        <th>租赁起始日</th>
                        <th>当前位置</th>
                        <th>当前租赁房</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in vm.containers track by $index" ng-click="checkDetail($index)">
                        <td style="vertical-align: middle;">{{item.containerId}}</td>
                        <td style="vertical-align: middle;">{{item.leaseStartTime | date:"yyyy-MM-dd"}}至{{item.leaseEndTime | date:"yyyy-MM-dd"}}</td>
                        <td style="vertical-align: middle;">{{item.locationName}}</td>
                        <td style="vertical-align: middle;">{{item.carrier}}</td>
                        <td><a class="btn-table-detail" ui-sref="app.realtime({
                            containerId: vm.containers[$index].containerId
                        })">查看详情</a></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div auto-pagination pageination="vm.pageination"></div>

        </div>
    </div>
</div>